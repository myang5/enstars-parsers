!function(e){function t(t){for(var r,i,u=t[0],c=t[1],l=t[2],m=0,f=[];m<u.length;m++)i=u[m],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(s&&s(t);f.length;)f.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,u=1;u<n.length;u++){var c=n[u];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={0:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var s=c;o.push([214,1]),n()}({181:function(e,t,n){},186:function(e,t,n){},187:function(e,t,n){},210:function(e,t,n){},211:function(e,t,n){},212:function(e,t,n){},213:function(e,t,n){},214:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(171),i=n(174),u=n(131),c=n(31),l={TETORA:"Tetora_Nagumo",HAJIME:"Hajime_Shino",TOMOYA:"Tomoya_Mashiro",HINATA:"Hinata_Aoi",MIDORI:"Midori_Takamine",TORI:"Tori_Himemiya",TOURI:"Tori_Himemiya",SHINOBU:"Shinobu_Sengoku",MITSURU:"Mitsuru_Tenma",YUTA:"Yuta_Aoi",YUUTA:"Yuta_Aoi",TSUKASA:"Tsukasa_Suou",SORA:"Sora_Harukawa",SUBARU:"Subaru_Akehoshi",HOKUTO:"Hokuto_Hidaka",MAKOTO:"Makoto_Yuuki",SOUMA:"Souma_Kanzaki",ADONIS:"Adonis_Otogari",NATSUME:"Natsume_Sakasaki",KOGA:"Koga_Oogami",KOUGA:"Koga_Oogami",RITSU:"Ritsu_Sakuma",MAO:"Mao_Isara",YUZURU:"Yuzuru_Fushimi",ARASHI:"Arashi_Narukami",MIKA:"Mika_Kagehira",EICHI:"Eichi_Tenshouin",KEITO:"Keito_Hasumi",KAORU:"Kaoru_Hakaze",IZUMI:"Izumi_Sena",CHIAKI:"Chiaki_Morisawa",SHU:"Shu_Itsuki",SHUU:"Shu_Itsuki",MADARA:"Madara_Mikejima",KURO:"Kuro_Kiryu",KUROU:"Kuro_Kiryu",WATARU:"Wataru_Hibiki",KANATA:"Kanata_Shinkai",REI:"Rei_Sakuma",NAZUNA:"Nazuna_Nito",LEO:"Leo_Tsukinaga",TSUMUGI:"Tsumugi_Aoba",JIN:"Jin_Sagami",AKIOMI:"Akiomi_Kunugi",HIYORI:"Hiyori_Tomoe",JUN:"Jun_Sazanami",NAGISA:"Nagisa_Ran",IBARA:"Ibara_Saegusa",RINNE:"Rinne_Amagi",HIMERU:"HiMERU",KOHAKU:"Kohaku_Oukawa",NIKI:"Niki_Shiina",HIIRO:"Hiiro_Amagi",AIRA:"Aira_Shiratori",MAYOI:"Mayoi_Ayase",TATSUMI:"Tatsumi_Kazehaya",SEIYA:"Seiya_Hidaka",GATEKEEPER:"Gatekeeper",CHIYO:"Chiyo_Ono",AIKA:"Aika_Aino",ASUKA:"Asuka_Momochi",KIKO:"Kiko_Hayakawa",KANAE:"Kanae_Miyoshi",YUKI:"Yuki_Kitagawa",YAE:"Yae_Nagamachi",YUYU:"Yuyu_Kinoshita",MISAKI:"Misaki_Maruko",RUKA:"Ruka_Tsukinaga",KURUMI:"Kurumi_Hino",ICHIKA:"Ichika_Kodama",KOTORI:"Kotori_Kanon",TSUBASA:"Tsubasa_Hamori",MIKE:"Mike_Nekozuka",AZUSA:"Azusa_Kobato",ISAMI:"Isami_Taiga",IKARI:"Ikari_Syachi",HIMENO:"Himeno_Kumasawa",SUMIRE:"Sumire_Kijishi",SHIZUKU:"Shizuku_Fujii",KOHARU:"Koharu_Ougi",NATSUMI:"Natsumi_Minami",YUU:"Yuu_Nagai",KOYOI:"Koyoi_Hoshiumi",TSUYURI:"Tsuyuri_Hassaku",NANA:"Nana_Harukaze",SAAYA:"Saaya_Hotta",YURI:"Yuri_Natsuno",MAI:"Mai_Anjo",RENREN:"Renren_Ryusenji",MARIA:"Maria_Yumeji",CHIKA:"Chika_Tohmi",KANA:"Kana_Umezono",KAIRI:"Kairi_Kirishima",RUNA:"Runa_Hiiragi",MOMO:"Momo_Saeki",TOMOKO:"Tomoko_Yuuki",HAYATE:"Hayate_Yogiri",HIYONO:"Hiyono_Sasame",QOO:"Qoo_Caloa",MUTSUMI:"Mutsumi_Sakaki",MARI:"Mari_Hanaoka",REIKA:"Reika_Enjouji",MIZUKI:"Mizuki_Futaba",MINAZUKI:"Minazuki_Futaba",BOTAN:"Botan_Komatsu",GIN:"Gin_Sanjo",YAKO:"Yako_Konan",KASUMI:"Kasumi_Mikage",HIKARU:"Hikaru_Yakabe",HIMARI:"Himari_Tsurumi",AYAME:"Ayame_Kusaka",SAKURA:"Sakura_Itoh",KAEDE:"Kaede_Segawa",SUZU:"Suzu_Kuromori",USHIO:"Ushio_Mizushima",RURI:"Ruri_Amamiya",SAN:"San_Iwato",HIBIKI:"Hibiki_Natsume",SHION:"Shion_Mineyama",HOTORI:"Hotori_Kannazuki",CHIZURU:"Chizuru_Yakumo",FUMI:"Fumi_Midori",MASHIRO:"Mashiro_Hitaki",SEIRA:"Seira_Sone"},s={AKIRA:"日日日 (Akira)",YUUKI_YOSHINO:"結城由乃 (Yuuki Yoshino)",NISHIOKA_MAIKO:"西岡麻衣子 (Nishioka Maiko)",YUUMASU:"ゆーます (Yuumasu)",KINO_SEITARO:"木野誠太郎 (Kino Seitaro)",HAPPY_ELEMENTS:"Happy Elements株式会社 (Happy Elements K.K)",UMEDA_CHITOSE:"梅田千歳 (Umeda Chitose)"},m="location",f="author",p="translators",d="editors",b="name",h="link",v="whatGame",y="ES!!",A="writer",g="location",O="bottom",_="text",E="index",S="prev-url",I="prev-title",k="next-url",N="next-title",R={MashiroFormatter:"mashiro-formatter",JayFormatter:"jay-formatter"},U=R.MashiroFormatter,K=(n(181),Object.values(R));function j(){var e=Object(c.g)(),t=Object(c.f)(),n=e.pathname.split("/")[1],r=n||U;return a.a.createElement("header",null,a.a.createElement("h1",null,a.a.createElement(u.b,{className:"star-link",to:"/"},"ENSTARS PARSERS")),a.a.createElement("ul",{id:"navbar"},a.a.createElement("li",null,a.a.createElement("select",{value:r,onChange:function(e){var n=e.target.value;t.push("/".concat(n))}},K.map((function(e){return a.a.createElement("option",{key:e,value:e},e)})))),a.a.createElement("li",null,a.a.createElement("a",{className:"star-link",target:"_blank",rel:"noreferrer",href:"https://twitter.com/gayandasleep"},"CONTACT")),a.a.createElement("li",null,a.a.createElement("a",{className:"star-link",target:"_blank",rel:"noreferrer",href:"https://github.com/myang5/enstars-parsers/issues"},"REPORT ISSUE")),a.a.createElement("li",null,a.a.createElement("a",{className:"star-link",target:"_blank",rel:"noreferrer",href:"https://github.com/myang5/enstars-parsers"},"GITHUB"))))}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(){var e;return M(e={},b,""),M(e,h,""),e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=Object(r.createContext)(),F=function(e){return JSON.parse(localStorage.getItem(e))||[w()]},Y=function(e){var t,n,o=e.children,i=C(Object(r.useState)({}),2),u=i[0],c=i[1],l=Object(r.useRef)(u),b=C(Object(r.useState)((T(t={},m,""),T(t,f,s.AKIRA),T(t,p,F(p)),T(t,d,F(d)),T(t,v,y),t)),2),h=b[0],E=b[1],S=C(Object(r.useState)((T(n={},A,"#FFFFFF"),T(n,g,"#FFFFFF"),T(n,O,"#FFFFFF"),T(n,_,"#FFFFFF"),n)),2),I=S[0],k=S[1],N=C(Object(r.useState)(JSON.parse(localStorage.getItem("nav"))||{}),2),R={renders:u,renderRef:l,setRenders:c,details:h,setDetails:E,colors:I,setColors:k,nav:N[0],setNav:N[1],inputRef:Object(r.useRef)(null),tlNotesRef:Object(r.useRef)(null)};return a.a.createElement(x.Provider,{value:R},o)};n(186);function P(e){var t=e.tabs,n=e.clicked,r=e.onClick;return a.a.createElement("div",{className:"tab-menu"},t.map((function(e){return a.a.createElement("button",{type:"button",key:e,className:"tablink".concat(n===e?" active":""),onClick:function(){return r(e)}},e)})))}n(187);var D=n(132),z=n.n(D);function L(e){var t=e.clicked,n=e.value,r=e.children;return a.a.createElement("div",{className:z()("tab-content","tab-content--".concat(n.replace(" ","-").toLowerCase()),{"tab-content--active":t===n})},r)}var B=n(117),J=n.n(B),G=n(121),W=n(123),Z=n(91),$=n(126),q=n(127),V=n(122),X=(n(175),n(124)),Q=n(176);function ee(e){var t=e.querySelectorAll("br");if(t.length>0){for(var n=t[0].parentNode,r=n.parentNode,a=0;a<t.length;a++){var o=new Range;if(o.setStart(t[a].parentNode,0),o.setEndBefore(t[a]),!o.collapsed){var i=document.createElement(n.tagName.toLowerCase());i.append(o.extractContents()),r.insertBefore(i,n)}t[a].remove()}0===n.innerHTML.length&&n.remove()}return e}function te(e){return(new DOMParser).parseFromString(e,"text/html")}function ne(){var e=Object(r.useContext)(x),t=e.renderRef,n=e.setRenders,o=e.inputRef,i={plugins:[W.a,Z.a,$.a,q.a,V.a,X.a,Q.a],toolbar:["bold","italic","link","|","undo","redo"],autosave:{save:function(e){var r=function(e){var t=ee(te(e)),n=Array.from(t.querySelectorAll("p"),(function(e){return e.textContent})),r={};return n.forEach((function(e){var t=e.split(" ")[0];t.includes(":")&&(t=t.slice(0,t.indexOf(":")),l[t.toUpperCase()]&&(t=t[0].toUpperCase()+t.slice(1,t.length),r[t]=""))})),r}(e.getData());Object.keys(r).forEach((function(e){r[e]=t.current[e]||""})),n(r)}}};return Object(r.useEffect)((function(){try{o.current.editor.editing.view.change((function(e){e.setAttribute("spellcheck","false",o.current.editor.editing.view.document.getRoot())}))}catch(e){}return function(){}}),[]),a.a.createElement(J.a,{editor:G.a,config:i,data:"\n<p>Location: Pool</p>\n<p>CW: Death threats</p>\n<p>Narration: Time: Several minutes later</p>\n<p>Narration: Several minutes later</p>\n<p>Image: /img/es/eventstory/meteorimpact/firsthalfch2.jpg</p>\n<p>Natsume, hidden: HoweVER. Within a game where everything is proGRAMMED, everything works with much simpler loGIC.</p>\n<p>In this world where everything obeys my every comMAND, I will reign as god and control everyTHING. I'll make sure they can live in peace and joy within this miniature <hold>garDEN—</hold></p>\n<p><th>And I will give everyone an equal opportunity to experience their own happily ever afTER.</th></p>\n<p><spell>—Welcome to paradise, my <hold>idols♪</hold></spell></p>\n<p>Tsumugi: Um, but, no matter how you look at it, I'm pretty sure this world is a dystopia, right?</p>\n",ref:o})}Object.values(s);function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie=function(){var e=Object(r.useContext)(x),t=e.nav,n=e.setNav,o=function(e){var r=e.target,a=r.id,o=r.value;n(ae(ae({},t),{},oe({},a,o.trim())))};return a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,'Links for the navigation at the end of each chapter page. "Title" refers to the text that appears when hovering over each navigation button.'),a.a.createElement("div",{className:"row"},a.a.createElement("label",{className:"row__spacer",htmlFor:E},"Index URL"),a.a.createElement("input",{type:"text",id:E,value:t[E],onChange:o,placeholder:"Ex. /dead_end_land"})),a.a.createElement("div",{className:"row"},a.a.createElement("label",{className:"row__spacer",htmlFor:S},"Prev URL"),a.a.createElement("input",{type:"text",id:S,value:t[S],onChange:o,placeholder:"Ex. /dead_end_land/6"})),a.a.createElement("div",{className:"row"},a.a.createElement("label",{className:"row__spacer",htmlFor:I},"Prev Title"),a.a.createElement("input",{type:"text",id:I,value:t[I],onChange:o,placeholder:"Ex. Previous Chapter: Dead End Street (6)"})),a.a.createElement("div",{className:"row"},a.a.createElement("label",{className:"row__spacer",htmlFor:k},"Next URL"),a.a.createElement("input",{type:"text",id:k,value:t[k],onChange:o,placeholder:"Ex. /dead_end_land/8"})),a.a.createElement("div",{className:"row"},a.a.createElement("label",{className:"row__spacer",htmlFor:N},"Next Title"),a.a.createElement("input",{type:"text",id:N,value:t[N],onChange:o,placeholder:"Ex. Next Chapter: Epilogue (1)"})))};var ue=n(129);function ce(e){return pe(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||me(e)||se()}function le(e,t){return pe(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return n}(e,t)||me(e,t)||se()}function se(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function me(e,t){if(e){if("string"==typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fe(e,t):void 0}}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pe(e){if(Array.isArray(e))return e}var de=function(e){return e.toUpperCase().startsWith("LOCATION:")},be=function(e){return e.toUpperCase().startsWith("CW:")},he=function(e){return e.toUpperCase().startsWith("IMAGE:")},ve=function(e){return e.match(/^\w*:(.*)/)[1].trim()},ye=function(e){return e.toUpperCase().startsWith("NARRATION:")},Ae=function(e){var t=e.match(/^\w*:( ?\w*?):(.*)/);return t?{label:t[1].trim(),value:t[2].trim()}:{value:ve(e)}},ge=function(e){if(Object(ue.chain)(e).split(":").map((function(e){return e.trim()})).compact().value().length<2)return!1;var t=e.split(":")[0];return Object(ue.inRange)(Object(ue.chain)(t).split(",").map((function(e){return e.trim()})).compact().value().length,1,3)},Oe=function(e){var t=ce(e.split(":")),n=t[0],r=t.slice(1);return[Object(ue.chain)(n).split(",").map((function(e){return e.trim()})).join(" ").value(),r.join(":").trim()]};function _e(e){var t,n,r=e.inputData,a=(e.tlNotesData,e.renders,e.details,e.onChangeDetails,e.colors,e.nav),o=Ee(),i=ee(te(r));t="nav",0===(n=a).length?localStorage.removeItem(t):JSON.stringify(n)!==localStorage.getItem(t)&&localStorage.setItem(t,JSON.stringify(n));for(var u=i.querySelectorAll("p"),c="",l=0,s=function(e){var t="";return function(n){var r=n.textContent.replace(/&nbsp;/g," ").trim();if(!r)return"";if(he(r))return e.image(ve(r));if(de(r))return e.noteLocation(ve(r));if(be(r))return e.noteCw(ve(r));if(ye(r))return e.noteNarration(Ae(r));if(ge(r)){var a=le(Oe(r),2),o=a[0],i=a[1];if(t===o)return e.dialogue(i);var u="";return t&&(u+=e.endBubble()),t=o,u+=e.startBubble(o),u+=e.dialogue(i,!0)}return t?e.dialogue(r):""}}(o);l<u.length;l++)c+=s(u[l]);return c+=o.endBubble(),c+=function(e){var t="<div toc>\n";e[S]&&(t+="{% btn ".concat(e[S],",, arrow-left, ").concat(e[I]," %}\n"));t+="{% btn ".concat(e[E],",, star, Index %}\n"),e[k]&&(t+="{% btn ".concat(e[k],",, arrow-right, ").concat(e[N]," %}\n"));return t+="</div>\n"}(a)}var Ee=function(){var e={startBubble:function(e){return"{% bubble ".concat(e," %}\n")},endBubble:function(){return"{% endbubble %}\n\n"},dialogue:function(e,t){return"".concat(t?"":"\n","  ").concat(e,"\n")},noteLocation:function(e){return"{% note location %}\n**Location:** ".concat(e,"\n{% endnote %}\n\n")},noteCw:function(e){return"{% note cw %}\n**Content Warning:** ".concat(e,"\n{% endnote %}\n\n")},noteNarration:function(e){var t=e.label,n=e.value;return"{% note narration %}\n".concat(t?"**".concat(t,":**"):""," ").concat(n,"\n{% endnote %}\n\n")},image:function(e){return"{% img ".concat(e," %}\n\n")}};return e};n(210);function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ke={TEXT:"Text",NAV:"Story Nav"},Ne=Object.values(ke);function Re(){var e=Object(r.useRef)(null);return a.a.createElement(Y,null,a.a.createElement("div",{className:"main-page mashiro-formatter"},a.a.createElement(Ue,null),a.a.createElement(Me,{outputRef:e}),a.a.createElement("textarea",{className:"output",ref:e,spellCheck:!1})))}var Ue=function(){var e=Se(Object(r.useState)(ke.TEXT),2),t=e[0],n=e[1];return a.a.createElement("div",{className:"input"},a.a.createElement(P,{tabs:Ne,clicked:t,onClick:n}),a.a.createElement(L,{value:ke.TEXT,clicked:t},a.a.createElement(ne,null)),a.a.createElement(L,{value:ke.NAV,clicked:t},a.a.createElement(ie,null)))},Ke="Copy Output",je="Copied",Me=function(e){var t=e.outputRef,n=Object(r.useContext)(x),o=n.nav,i=n.details,u=n.setDetails,c=n.colors,l=n.renders,s=n.inputRef,m=(n.tlNotesRef,Se(Object(r.useState)(Ke),2)),f=m[0],p=m[1],d=Se(Object(r.useState)(""),2),b=d[0],h=d[1];return a.a.createElement("div",{className:"actions"},a.a.createElement("button",{type:"button",onClick:function(){p(Ke),h("");var e=_e({inputData:s.current.editor.getData(),nav:o,renders:l,details:i,onChangeDetails:u,colors:c});t.current.value=e},id:"convert-button"},"CONVERT"),a.a.createElement("button",{type:"button",onClick:function(){t.current.select(),document.execCommand("copy"),p(je)},id:"copy-button"},f),a.a.createElement("p",{className:"error"},b))};n(211);function we(e){var t=e.clickedTab,n=e.value,r=e.children;return a.a.createElement("div",{className:z()("tab-content","tab-content--".concat(n.replace(" ","-").toLowerCase()),{"tab-content--active":t===n})},r)}var Te=Object(r.createContext)(),Ce=function(e){var t=e.children,n={inputRef:Object(r.useRef)(null)};return a.a.createElement(Te.Provider,{value:n},t)},He=function(){return Object(r.useContext)(Te)};function xe(){var e=He().inputRef,t={plugins:[W.a,Z.a,$.a,q.a,V.a,X.a],toolbar:["bold","italic","link","|","undo","redo"]};return Object(r.useEffect)((function(){console.log("JayFormatter editor useEffect");try{e.current.editor.editing.view.change((function(t){t.setAttribute("spellcheck","false",e.current.editor.editing.view.document.getRoot())}))}catch(e){}return function(){}}),[]),a.a.createElement(J.a,{editor:G.a,config:t,data:"\n<p>Jun: normal text '''bold text''' text with: colon ''italic text''</p>\n<p>'''bold text''' '''more bold text''' ''italic text'' ''more italic text''</p>\n",ref:e})}var Fe=function(e){return e.replace(/'''(.*?)'''/g,"<b>$1</b>")},Ye=function(e){return e.replace(/''(.*?)''/g,"<i>$1</i>")},Pe=function(e){return e.replace(/^([A-Z]\w*:)/g,"<b>$1</b>")};function De(e){for(var t=ee(te(e.inputData)).querySelectorAll("p"),n=function(e){var t=e.textContent.replace(/&nbsp;/g," ").trim();return t?(t=Fe(t),t=Ye(t),(t=Pe(t))+"\n\n"):""},r="",a=0;a<t.length;a++)r+=n(t[a]);return r}n(212);function ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Le(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Be(){var e=Object(r.useRef)(null);return a.a.createElement(Ce,null,a.a.createElement("div",{className:"main-page jay-formatter"},a.a.createElement(Je,null),a.a.createElement(Ze,{outputRef:e}),a.a.createElement("textarea",{className:"output",ref:e,spellCheck:!1})))}var Je=function(){return a.a.createElement("div",{className:"input"},a.a.createElement(we,{value:"Text",clickedTab:"Text"},a.a.createElement(xe,null)))},Ge="Copy Output",We="Copied",Ze=function(e){var t=e.outputRef,n=He().inputRef,o=ze(Object(r.useState)(Ge),2),i=o[0],u=o[1];return a.a.createElement("div",{className:"actions"},a.a.createElement("button",{type:"button",onClick:function(){u(Ge);var e=De({inputData:n.current.editor.getData()});t.current.value=e},id:"convert-button"},"CONVERT"),a.a.createElement("button",{type:"button",onClick:function(){t.current.select(),document.execCommand("copy"),u(We)},id:"copy-button"},i))};n(213);var $e=Object(i.hot)((function(){return a.a.createElement(u.a,{basename:"/"},a.a.createElement(j,null),a.a.createElement(c.c,null,a.a.createElement(c.a,{path:"/".concat(R.MashiroFormatter)},a.a.createElement(Re,null)),a.a.createElement(c.a,{path:"/".concat(R.JayFormatter)},a.a.createElement(Be,null)),a.a.createElement(c.a,{exact:!0,path:"/"},a.a.createElement(Re,null))))}));Object(o.render)(a.a.createElement($e,null),document.querySelector("#root"))}});